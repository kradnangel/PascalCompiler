var
  i,j,k,m,n,p,h,w:longint;
  a:array[0..1001,0..1001] of longint;
  f:array[0..1001] of longint;
  vis:array[0..1001] of boolean;
begin
  read(n,m);
  for i:=1 to n do
    for j:=1 to n do
      a[i,j]:=maxlongint div 2;
  for i:=1 to m do
    begin
      read(j,h,w);
      a[j,h]:=w;
      a[h,j]:=w;
    end;
  fillchar(vis,sizeof(vis),true);
  for i:=0 to n do
    f[i]:=maxlongint div 2;
  f[1]:=0;
  for i:=1 to n do
    begin
      k:=0;
      for j:=1 to n do
        if (f[j]<f[k])and vis[j] then
          k:=j;
      if k=0 then
        break;
      for j:=1 to n do
        if a[k,j]+f[k]<f[j] then
          f[j]:=a[k,j]+f[k];
      vis[k]:=false;
    end;
  read(k);
  for i:=1 to k do
    begin
      read(w);
      writeln(f[w]);
    end;
end.